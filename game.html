<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>作品集 · 刺客信条·影 · 张俊瑶</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Noto Sans SC 用于中英文混排 -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet" />

  <style>
    /* --------------------------
       全局基础 
    -------------------------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Noto Sans SC', sans-serif;
      color: #e0ffe0;
      background-color: #0c0c0c;
      overflow: hidden; /* 只让右侧滚动区滚动 */
    }
    a {
      text-decoration: none;
      color: yellowgreen;
    }
    a:hover {
      text-shadow: 0 0 4px rgba(191,255,89,0.7);
    }

        /* Language toggle at top-left */
    .site-index {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 15px;
      z-index: 2;
      text-align: left;
    }
    .language-link {
      margin: 0 5px;
      text-decoration: none;
      color: #ccc;
    }
    .language-current {
      margin: 0 5px;
      color: gray;
      cursor: default;
    }
 /* Navigation at top-right */
    header {
      position: absolute;
      top: 10px;
      right: 20px;
      z-index: 2;
    }
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: inline-flex;
      gap: 15px;
      font-size: 15px;
    }
    nav ul li {
      display: inline;
    }
    nav ul li a {
      text-decoration: none;
      color: yellowgreen;
      font-weight: 500;
    }
    nav ul li a:hover {
      color: #acf248;
    }
    /* --------------------------
       左侧固定栏 
    -------------------------- */
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: 20%;            /* 左侧宽度占屏幕 30% */
  height: 100vh;         /* 始终撑满整个视口高度 */
  background: rgba(0,0,0,0.9);
  border-right: 1px solid rgba(100,100,100,0.3);

  /* 新增：flex 布局，将内容垂直分布 */
  display: flex;
  flex-direction: column;
}

 /* --------------------------
   将“项目标题+职位+分割线+目录”都放这里面 
   让它垂直居中 
-------------------------- */
.sidebar-content {
  flex: 1;                    /* 占据 .sidebar 除底部版权外的所有可用空间 */
  display: flex;
  flex-direction: column;
  justify-content: center;    /* 垂直居中这部分内容 */
    padding-bottom: 80px;         /* 内边距可根据实际需求微调 */
  padding-left: 120px;         /* 内边距可根据实际需求微调 */
  padding-right: 20px;
}

/* 项目标题 */
.sidebar .project-title {
  font-size: 32px;
  font-weight: 700;
  color: yellowgreen;
  text-shadow: 0 0 6px rgb(62, 66, 55);
  margin-bottom: 8px;
}

/* 职位信息 */
.sidebar .project-role {
  font-size: 16px;
  color: yellowgreen;
  margin-bottom: 16px;
}

/* 分割线 */
.sidebar .separator-line {
  height: 1px;
  background: rgb(114, 153, 35);
  margin: 16px 0;
}

/* 章节目录 */
.sidebar .section-list {
  overflow-y: auto;        /* 如果太多，允许滚动 */
}
.sidebar .section-list h3 {
  font-size: 16px;
  color: rgb(114, 153, 35);
  margin-bottom: 12px;
  position: sticky;
  top: 0;
  background: rgba(0,0,0,0.9);
  padding-bottom: 0px;
    padding-top: 16px;

}
.sidebar .section-list ul {
  list-style: none;
}
.sidebar .section-list li {
  margin-bottom: 8px;
  line-height: 1.2;
}
.sidebar .section-list li.active > a {
  color: #fff;
  text-shadow: 0 0 6px rgba(255,255,255,0.6);
}

/* 底部版权：保持在 sidebar 底部 */
.sidebar .footer {
  font-size: 12px;
  color: gray;
  text-align: center;
  padding: 12px 0;
}

    /* --------------------------
       右侧滚动区 
    -------------------------- */
    .content-wrapper {
      position: absolute;
      top: 0;
      left: 20%;                /* 紧挨左侧 30% 宽度 */
      width: 80%;
      height: 100vh;
      overflow-y: scroll;       /* 仅允许右侧滚动 */
      scroll-snap-type: y mandatory; /* 强制“节”级滚动对齐 */
    }
    .video-section {
      scroll-snap-align: start;    /* 每一节滚动到顶部时对齐 */
      width: 100%;
      height: calc(100vh);         /* 每节占满一个视口高度 */
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 0 40px;
    }
    .video-section:nth-child(odd) {
      background-color: #111;      /* 交替深浅背景，增强层次 */
    }
    .video-section:nth-child(even) {
      background-color: #0c0c0c;
    }
.video-section .section-title {
  /* 与视频同样的最大宽度 */
  width: 100%;
  max-width: 1200px;
  margin: 0 auto 16px;  /* 水平居中，底部留 16px 间距 */
  text-align: left;     /* 文本左对齐 */
  color: #ffffff;
  font-size: 24px;
  text-shadow: 0 0 4px rgba(237, 237, 237, 0.7);
}

.video-section video {
  width: 100%;
  max-width: 1200px;   /* 视频最大宽度 */
  aspect-ratio: 16/9;
  object-fit: cover;
  border-radius: 4px;
  box-shadow: 0 0 16px rgba(0,0,0,0.5);
}

.video-section .caption {
  width: 100%;
  max-width: 1200px;   /* 与视频保持一致 */
  margin-top: 12px;
  text-align: left;
  color: #e0ffe0;
  font-size: 10px;
  line-height: 1.6;
}
  </style>
</head>

<body>

    <!-- Language toggle -->
  <div class="site-index">
    <a href="index-en.html" class="language-link">EN</a>
    <span class="separator">/</span>
    <span class="language-current">中文</span>
  </div>

  <!-- Navigation -->
  <header>
    <nav>
      <ul>
        <li><a href="game.html">游戏演出设计</a></li>
        <li><span>|</span></li>
        <li><a href="video.html">导演与视觉作品</a></li>
        <li><span>|</span></li>
        <li><a href="blog.html">博客</a></li>
        <li><span>|</span></li>
        <li><a href="about.html">关于我</a></li>
      </ul>
    </nav>
  </header>

  <!-- 左侧固定栏 -->
  <aside class="sidebar">
  <!-- ① 新增一个 .sidebar-content 容器 -->
  <div class="sidebar-content">
    <div class="project-title">刺客信条·影</div>
    <div class="project-role">过场动画设计</div>
    <div class="separator-line"></div>

    <div class="section-list">
      <h3>· 贵族（宇喜多直家）</h3>
      <ul>
        <li class="active"><a href="#sect1">1. 连歌会</a></li>
        <li><a href="#sect2">2. 击退浪人</a></li>
        <li><a href="#sect3">3. 贵族之死</a></li>
        <h3>· 牛（别所治正）</h3>
        <li><a href="#sect4">4. 攻打计划</a></li>
        <li><a href="#sect5">5. 牛之死</a></li>
        <h3>· 弥助复仇</h3>
        <li><a href="#sect6">6. 银后登场</a></li>
        <li><a href="#sect7">7. 卡罗现身</a></li>
        <li><a href="#sect8">8. 重获自由</a></li>
        <h3>· 小四郎</h3>
        <li><a href="#sect9">9. 恋爱是从发簪开始的</a></li>
      </ul>
    </div>
  </div>

  </aside>

  <!-- 右侧可滚动内容区 -->
  <div class="content-wrapper">
    <!-- SECTION 1 -->
    <section id="sect1" class="video-section">
      <div class="section-title">连歌会 </div>
      <video controls preload="metadata" poster="images/posters/sect1.jpg">
        <source src="videos/1_noblesEntrance.mp4" type="video/mp4" />
      </video>
      <div class="caption">
        <p>角色：宇喜多直家（贵族）</p>
        <p>这一幕展示了“连歌会”中的贵族初次登场，透过镜头细节刻画社会秩序与人物气质。</p>
      </div>
    </section>

    <!-- SECTION 2 -->
    <section id="sect2" class="video-section">
      <div class="section-title">击退浪人</div>
      <video controls preload="metadata" poster="images/posters/sect2.jpg">
        <source src="videos/2_AfterRengakai.mp4" type="video/mp4" />
        您的浏览器不支持 video 标签。
      </video>
      <div class="caption">
        <p>角色：宇喜多直家（贵族）</p>
        <p>在贵族领地遭遇浪人入侵之时，描述主人公如何指挥亲卫成功击退对方的紧张场面。</p>
      </div>
    </section>

    <!-- SECTION 3 -->
    <section id="sect3" class="video-section">
      <div class="section-title">贵族之死</div>
      <video controls preload="metadata" poster="images/posters/sect3.jpg">
        <source src="videos/3_UkitaDefeated.mp4" type="video/mp4" />
        您的浏览器不支持 video 标签。
      </video>
      <div class="caption">
        <p>角色：宇喜多直家（贵族）</p>
        <p>“春与秋”篇章中的关键时刻，刻画贵族在风雨骤变中命运的终点。</p>
      </div>
    </section>

    <!-- SECTION 4 -->
    <section id="sect4" class="video-section">
      <div class="section-title">攻打计划</div>
      <video controls preload="metadata" poster="images/posters/sect4.jpg">
        <source src="videos/4_AttackPlan.mp4" type="video/mp4" />
        您的浏览器不支持 video 标签。
      </video>
      <div class="caption">
        <p>角色：别所治正（牛）</p>
        <p>叙述别所治正在幕后策划如何通过“断角”组织，向对手展开果敢的攻打行动。</p>
      </div>
    </section>

    <!-- SECTION 5 -->
    <section id="sect5" class="video-section">
      <div class="section-title">牛之死</div>
      <video controls preload="metadata" poster="images/posters/sect5.jpg">
        <source src="videos/5_OxDefeated.mp4" type="video/mp4" />
        您的浏览器不支持 video 标签。
      </video>
      <div class="caption">
        <p>角色：别所治正（牛）</p>
        <p>展现别所治正最终在“断角”行动中身处危局，死而不屈的悲壮瞬间。</p>
      </div>
    </section>

    <!-- SECTION 6 -->
    <section id="sect6" class="video-section">
      <div class="section-title">银后登场</div>
      <video controls preload="metadata" poster="images/posters/sect6.jpg">
        <source src="videos/6_silverQueenEntrance.mp4" type="video/mp4" />
        您的浏览器不支持 video 标签。
      </video>
      <div class="caption">
        <p>角色：弥助</p>
        <p>弥助作为银后家族的代表首次亮相，镜头语言注重她的神秘气场与穿着细节。</p>
      </div>
    </section>

    <!-- SECTION 7 -->
    <section id="sect7" class="video-section">
      <div class="section-title">卡罗现身</div>
      <video controls preload="metadata" poster="images/posters/sect7.jpg">
        <source src="videos/7_karoAppearance.mp4" type="video/mp4" />
        您的浏览器不支持 video 标签。
      </video>
      <div class="caption">
        <p>角色：弥助</p>
        <p>在银后面前，卡罗的突然现身带来关键线索，冲突与转折一触即发。</p>
      </div>
    </section>

    <!-- SECTION 8 -->
    <section id="sect8" class="video-section">
      <div class="section-title">重获自由</div>
      <video controls preload="metadata" poster="images/posters/sect8.jpg">
        <source src="videos/8_silverQueenPromise.mp4" type="video/mp4" />
        您的浏览器不支持 video 标签。
      </video>
      <div class="caption">
        <p>角色：弥助</p>
        <p>银后与弥助达成关键约定，揭示双方在背后更深层的利益纠葛。</p>
      </div>
    </section>

    <!-- SECTION 9 -->
    <section id="sect9" class="video-section">
      <div class="section-title">恋爱场景</div>
      <video controls preload="metadata" poster="images/posters/sect9.jpg">
        <source src="videos/9_loveScene.mp4" type="video/mp4" />
        您的浏览器不支持 video 标签。
      </video>
      <div class="caption">
        <p>角色：小四郎</p>
        <p>最后的小四郎篇章，用温暖的镜头语境，展现角色对爱与归属感的追寻。</p>
      </div>
    </section>
  </div>

  <script>
    // 当页面加载完成后，为左侧目录锚点高亮做处理
    document.addEventListener('DOMContentLoaded', function() {
      const sectionLis = document.querySelectorAll('.section-list li');
      const sections = document.querySelectorAll('.video-section');

      // 用 IntersectionObserver 监听哪个 section 正在视口中
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            // 找到相应的 li，并加 .active
            const id = entry.target.getAttribute('id');
            sectionLis.forEach(li => {
              li.classList.toggle('active', li.querySelector('a').getAttribute('href') === '#' + id);
            });
          }
        });
      }, {
        root: document.querySelector('.content-wrapper'),
        threshold: 0.6  // 当 60% 可视时视为“在视口中”
      });

      sections.forEach(sec => observer.observe(sec));
      const videos = document.querySelectorAll('.video-section video');
  // 让它们都先暂停、重置
  videos.forEach(v => {
    v.pause();
    v.currentTime = 0;
  });
  // 创建一个观察器，目标是视频元素本身
  const videoObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      const vid = entry.target;
      if (entry.isIntersecting) {
        // 当视频至少 50% 可见时，自动播放
        vid.play().catch(()=>{ /* 静默忽略 */ });
      } else {
        // 一旦离开可视区域，暂停并重置
        vid.pause();
        vid.currentTime = 0;
      }
    });
  }, {
    root: document.querySelector('.content-wrapper'), // 你的滚动容器
    threshold: 0.5    // 视频一半可见时才触发播放
  });

  // 为每个 <video> 注册观察器
  videos.forEach(v => videoObserver.observe(v));

    });
  </script>
</body>
</html>
